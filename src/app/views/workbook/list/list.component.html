<ng-template #rhContent>
  <div class="wl-rh">
    <form class="wl-rh-search-box" (submit)="search($event)">
      <input #searchInputRef class="wl-rh-search-input" placeholder="Search" type="text" aria-label="検索を入力" />
      <button mlButton class="wl-rh-search-submitter" type="submit" aria-label="検索する">
        <svg class="rh-icon" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
      </button>
    </form>
  
    <div class="wl-rh-suggest">
      <ng-template ngFor let-content [ngForOf]="suggest">
        <div class="wl-rh-suggest-content" [class]="content.type + '-type'">
          <a class="wl-rh-suggest-link" routerLink="/workbook-list" [queryParams]="{ query: content.token }">
            <svg class="wl-rh-suggest-icon" xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" height="24" role="img" aria-hidden="true">
              <path [attr.d]="content.type === 'guess' ? 'M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' : 'M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.25 2.52.77-1.28-3.52-2.09V8z'"></path>
            </svg>
            <span class="wl-rh-suggest-label">{{ content.token }}</span>
            <div class="wl-rh-suggest-overlay"></div>
          </a>
          <button mlButton variant="icon" hoverAction="enabled" aria-hidden="true" (click)="rightSuggestActionEvent(content.type, $event)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" height="24" role="img" aria-hidden="true">
              <path [attr.d]="content.type === 'guess' ? 'M5,15h2V8.41L18.59,20L20,18.59L8.41,7H15V5H5V15z' : 'M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z'"></path>
            </svg>
          </button>
        </div>
      </ng-template>
    </div>
  </div>
</ng-template>


<ng-template [ngIf]="lists[0]" [ngIfElse]="notMatched">
  <section *ngFor="let list of lists; trackBy: trackCategory" class="wl-section">
    <span class="eb-label">{{ list.category }}</span>
  
    <ng-template ngFor let-data [ngForOf]="list.dataset" [ngForTrackBy]="trackId">
      <a *ngIf="data; else adSense" class="wl-card" aria-label="Go to quiz" [routerLink]="'/workbook-game/' + data.id">
        <h3 class="wl-card-title">{{ data.title }}</h3>
        <div class="wl-card-thumbnail">{{ data.shortTitle }}</div>
        <div class="wl-card-desc">
          <span>第２種電気工事士の過去問</span>
          <div class="wl-card-tag-wrapper">
            <span *ngFor="let tag of data.tags" class="wl-card-tag">{{ data.tags }}</span>
          </div>
        </div>
        <div class="wl-card-overlay"></div>
      </a>
    </ng-template>
  </section>
</ng-template>

<ng-template #adSense>
  <div class="wl-ad-card">
    <div>AdSense</div>
    <div class="wl-card-overlay"></div>
    <!-- <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-g0+5w+4l-cg+59" data-ad-client="ca-pub-8223938969285051" data-ad-slot="3537654325"></ins> -->
  </div>
</ng-template>

<ng-template #notMatched>
  <section>
    <div class="eb-emoticon-title">(>_<)</div>
    <div class="eb-emoticon-comment">検索結果がありませんでした。</div>      
  </section>
</ng-template>
